
<div class="container-fluid">
		<div class="row-fluid">
			<div class="row-fluid sortable">
				<div class="box span12">
						<div class="box-content">
							<table class="table table-striped table-bordered bootstrap-datatable datatable" id="mparticlelist">
							  <tr id="titlist">
                                  <th>地点</th>
                                  <th>经度</th>
                                  <th>维度</th>
                                  <th>缩略图全路径</th>
                                  <th>操作</th>
							  </tr>
                               <tbody id="addressbody">
                               <tr id="update1"></tr>
                               <tr id="update2"></tr>
                               <tr id="update3"></tr>
                               <tr id="update4"></tr>
                               <tr id="update5"></tr>
                               <tr id="update6"></tr>
                               <tr id="update7"></tr>
                               <tr id="update8"></tr>
                               <tr id="update9"></tr>
                               <tr id="update10"></tr>
                               </tbody>
							</table>
						</div>
				</div>

			</div>
			</div>
</div>
<div id="dialog-console_address" title="保存" style="display:none" >
    <table>
    <tr id="put1"></tr>
    <tr id="put2"></tr>
    <tr id="put3"></tr>
    <tr id="put4"></tr>
    <tr id="put5"></tr>
    <tr id="put6"></tr>
    <tr id="put7"></tr>
    <tr id="put8"></tr>
    <tr id="put9"></tr>
    <tr id="put10"></tr>
    </table>
</div>

<script type="text/javascript">

 findaddress();
 console_address();
function findaddress(){
    $.ajax({
        type:'GET',
        url: '/loc ',
        success:function(date){
           $(date).find('location').each(function(){
               var id = $(this).attr('priority');            //属性ID
               var name =$(this).children("name").text();   //名称
               var longitude = $(this).find('lon').text(); //经度
               var latitude = $(this).find('lat').text();   //维度
               var thumb =$(this).find('thumb').text();    //缩略图
               $("#update"+id).append('<td id="name"+id>'+ name +'</td>'
                   +'<td id="longitude"'+id+'>'+ longitude +'</td>'
                   +'<td id="latitude"'+id+'>'+ latitude +'</td>'
                   +'<td id="thumb"'+id+'>'+ thumb +'</td>'
                   +'<td><a href="javascript:console_address("+id+")">编辑</a></td>'
               )
           });
        }
    });
}
function console_address(){
     $("#dialog-console_address").dialog({
          resizable: false,
          height:220,
          width: 600,
          modal: true,
          buttons: {
              "保存": function() {
                   $(this).dialog( "close" );    //关闭对话框
                   $("#addressbody").empty();
                   findaddress();
              }
          }
      });
}
function save_address(){
   var document = $.parseXML('<locations/>');   //根节点
   var location1 = document.createElement("location");
   location1.attr("priority",$("#put1name").val());


   function create_address_node(tag,name){
      var e = document.createElement(tag);
      e.appendChild(document.createCDATASection(name));
   return e;
   }
}
</script>

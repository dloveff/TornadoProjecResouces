<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>注册与登录</title>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<style type="text/css">
 #container{
 width: 997px;
   height: 668px;
   font-size:12px;
    border:1px solid red;
 }
  #context{
   width: 997px;
   height: 400px; 
 }


	  .reg-sub{
   font-size:15px;
   font-weight:bolder;
    width: 180px;
    height: 35px;
    background-color:#FF0066;
    color: white;
 }
   .gou-sub:hover{
    border:1px solid gray;
 }
 

	a:visited {  color: #996600; text-decoration: none }
	a:hover {  color: #FF0000; text-decoration: none }
	a:active {  color: #FF0000; text-decoration: none }
	a:link { color: #996600; text-decoration: none }
 .get-code {margin-left:6px;border-radius:2px;box-shadow:0 1px 1px #fff inset;display:inline-block;font-size:12px;color:#67b55e;height:25px;line-height:30px;padding:0 5px;background:#efefef;border:1px solid #cfcfcf;vertical-align:top;} 
</style>
<script type="text/javascript">
$(function(){
   $("#login").click(function(){
    xmldom = $.parseXML("<login/>");
		username = $.parseXML("<username>" + $("#uname").val() + "</username>").firstChild.cloneNode(true);
		password = $.parseXML("<password>" + $("#pword").val()+ "</password>").firstChild.cloneNode(true);
		xmldom.firstChild.appendChild(username);
		xmldom.firstChild.appendChild(password);
		stu = (new XMLSerializer().serializeToString(xmldom));
		 $.ajax({
			    type: 'POST',
			   url: '/login',
			   async: false,
			   data:stu,
			   success: function(data) {
				   location.href="console.html";
			   },error: function(XMLHttpRequest, textStatus, errorThrown) {
                        $("#mad").html("登录失败，帐号或密码错误");
                    }

			});
    });
});


$(function(){
   $("#reg").click(function(){
    xmldom = $.parseXML("<user/>");
		username = $.parseXML("<username>" + $("#ereg").val() + "</username>").firstChild.cloneNode(true);
		password = $.parseXML("<password>" + $("#pass").val()+ "</password>").firstChild.cloneNode(true);
		fullname= $.parseXML("<fullname>" + $("#fullname").val() + "</fullname>").firstChild.cloneNode(true);
		mobile = $.parseXML("<mobile>" + $("#mobile").val()+ "</mobile>").firstChild.cloneNode(true);
		email = $.parseXML("<email>" + $("#email").val() + "</email>").firstChild.cloneNode(true);
		xmldom.firstChild.appendChild(username);
		xmldom.firstChild.appendChild(password);
		xmldom.firstChild.appendChild(fullname);
		xmldom.firstChild.appendChild(mobile);
		xmldom.firstChild.appendChild(email);
		stu = (new XMLSerializer().serializeToString(xmldom));
		 $.ajax({
			    type: 'POST',
			   url: '/register',
			   async: false,
			   data:stu,
			   success: function(data) {
				   location.href="regconfirm.html";
			   },error: function(XMLHttpRequest, textStatus, errorThrown) {
                        $("#re").html("注册失败");
                    }

			});
    });
});
$(function(){
 $("#password").blur(function(){
	if($("#pass").val()!=$("#password").val()){$("#repwd").html("密码不一致");}
			
});

});

</script>
</head>
<body>
<center>
   <div id="container">
	     
	        <div id="context">
		       <div id="left" style="float:left;width:450px;height: 500px;background-color: white; border:1px  solid gray; margin-left:20px; margin-top:20px;">
			   <h2>注册</h2>
		             <table border="0">
		               <tr height="50"><td>用户名：</td>
		                 <td><input type="text" id="ereg" placeholder="请入输用户名"></td>
		               </tr>
		                 <tr height="50"><td>全名：</td>
		                 <td><input type="text"  class="reg-text"   id="fullname"></td>
		             
		               </tr>
					    <tr height="50"><td>密码：</td>
		               <td><input type="password" id="pass" placeholder="请入输密码"></td>
		               </tr> 
					    <tr height="50"><td>确认密码：</td>
		               <td><input type="password" id="password" placeholder="请入确认密码"><span id="repwd" style="color:#FF0000"></span></td>
		               </tr> 
		               <tr height="50"><td>手机号码：</td>
		               <td><input type="text" name="pwd2" id="mobile" class="reg-text" maxlength="11" ></td>
		              
		               </tr>
					   <tr height="50"><td> 邮箱：</td>
		               <td><input type="text" id="email"></td>
		              
		               </tr>
					    
					      <tr  height="20"><td> </td>
		               <td id="re" style="color:#FF0000"></td>
		               </tr> 
		               <tr><td></td><td><input type="button" class="reg-sub" id="reg" value="立即注册"></td></tr>
		             </table>
		             
		       </div>
	          
	      
		       <div id="right" style="float:right;width:435px;height: 308px; border:1px  solid gray; margin-right:20px; margin-top:20px;">
			   <h2>登录</h2>
		           <table border="0">
		               <tr height="50"><td>用户名：</td>
		                 <td><input type="text"    placeholder="请入用户名" id="uname"></td>
		               </tr>
		               <tr height="50"><td>密码：</td>
		               <td><input type="password"  id="pword" maxlength="16" ></td>
		                 
		               </tr>
					   <tr  height="20"><td> </td>
		               <td id="mad" style="color:#FF0000"></td>
		               </tr> 
		               <tr><td></td><td><input type="button" class="reg-sub" id="login" value="立即登录"></td></tr>
		             </table>
		       </div> 
		      
	      </div>
	     
	      
	     
	 </div>
  
   </center>
</body>
</html>